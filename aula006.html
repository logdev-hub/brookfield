<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Aula 6 ‚Äî Checklist de Log√≠stica Inbound</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

<style>
  :root{
    --bg:#0b2746; --bg-2:#11365f; --tile:rgba(255,255,255,.06); --border:rgba(255,255,255,.18);
    --text:#eaf1fb; --muted:#bed3f9; --accent:#ffd24a; --accent-2:#ffea95;
    --ok:#47d16d; --warn:#ffb74d; --bad:#ff6b6b;
  }
  body{ background:linear-gradient(135deg,var(--bg) 0%, var(--bg-2) 60%, #07213b 100%); color:var(--text); }
  .navbar{ background:#09213a; }
  .container-narrow{ max-width:1150px }
  a{ color:var(--accent) } a:hover{ color:var(--accent-2) }
  .tile{ background:var(--tile); border:1px solid var(--border); border-radius:1rem; padding:1rem }
  .tile h5, .tile h6, h1, h2, h3{ color:#fff }
  .muted{ color:var(--muted) }
  .btn-accent{
    --bs-btn-bg:var(--accent); --bs-btn-border-color:var(--accent);
    --bs-btn-hover-bg:var(--accent-2); --bs-btn-hover-border-color:var(--accent-2);
    color:#132845; font-weight:700;
  }
  .table{ color:var(--text) } thead th{ background:rgba(255,255,255,.08) }
  .meter{height:10px;background:rgba(255,255,255,.16);border-radius:999px;overflow:hidden}
  .meter>span{display:block;height:100%;width:0;background:linear-gradient(90deg,#47d16d,#ffd24a);transition:width .3s}
  .small-muted{ font-size:.9rem; color:#cfe1ff }
  .grid-2{ display:grid; gap:1rem } @media(min-width: 992px){ .grid-2{ grid-template-columns: repeat(2, 1fr) } }
</style>
</head>
<body>

<nav class="navbar navbar-dark">
  <div class="container container-narrow d-flex align-items-center justify-content-between py-2">
    <span class="navbar-brand d-flex align-items-center gap-2">
      <i class="bi bi-clipboard-check"></i><strong>Aula 6 ‚Äî Checklist de Log√≠stica Inbound</strong>
      <span class="badge badge-soft ms-2">Conformidade & Seguran√ßa</span>
    </span>
    <span class="small text-light">Tema escuro ‚Ä¢ Responsivo ‚Ä¢ Interativo</span>
  </div>
</nav>

<main class="container container-narrow my-4">
  <header class="text-center mb-4">
    <h1 class="fw-bold">‚úÖ Checklists Inbound ‚Äî Pr√©-chegada ‚Üí Doca ‚Üí Confer√™ncias ‚Üí Armazenagem</h1>
    <p class="lead">Modelo interativo para auditar seu processo, calcular % de conformidade, exportar CSV e imprimir.</p>
  </header>

  <section class="tile mb-3">
    <h3>üß© Como usar</h3>
    <ol class="mb-0">
      <li>Selecione <em>Sim / N√£o / Parcial</em> para cada item.</li>
      <li>Veja a conformidade por <strong>se√ß√£o</strong> e o <strong>geral</strong> no rodap√©.</li>
      <li>Edite os textos (‚úçÔ∏è) para adaptar ao seu contexto.</li>
      <li>Exporte <strong>CSV</strong> com os resultados e observa√ß√µes.</li>
      <li>Imprima (Ctrl+P) para auditorias em campo.</li>
    </ol>
  </section>

  <!-- Checklists -->
  <section class="tile">
    <div class="grid-2">
      <!-- Coluna esquerda -->
      <div>
        <h3 class="h5">üõ£Ô∏è Pr√©-chegada & Portaria</h3>
        <table class="table table-sm align-middle" data-ck="pre">
          <thead><tr><th style="width:52%">Item (edit√°vel)</th><th>Sim</th><th>Parcial</th><th>N√£o</th><th>Obs.</th></tr></thead>
          <tbody>
            <tr>
              <td contenteditable="true">Janela de doca confirmada (n¬∫ agendamento)</td>
              <td><input type="radio" name="pre0" value="1"></td>
              <td><input type="radio" name="pre0" value="0.5"></td>
              <td><input type="radio" name="pre0" value="0"></td>
              <td contenteditable="true"></td>
            </tr>
            <tr>
              <td contenteditable="true">ASN/nota pr√©via recebida e validada</td>
              <td><input type="radio" name="pre1" value="1"></td>
              <td><input type="radio" name="pre1" value="0.5"></td>
              <td><input type="radio" name="pre1" value="0"></td>
              <td contenteditable="true"></td>
            </tr>
            <tr>
              <td contenteditable="true">Check de EPIs e documenta√ß√£o do motorista</td>
              <td><input type="radio" name="pre2" value="1"></td>
              <td><input type="radio" name="pre2" value="0.5"></td>
              <td><input type="radio" name="pre2" value="0"></td>
              <td contenteditable="true"></td>
            </tr>
          </tbody>
          <tfoot><tr><th colspan="5">
            Conformidade se√ß√£o: <span id="p_pre">0%</span>
            <div class="meter mt-2"><span id="m_pre"></span></div>
          </th></tr></tfoot>
        </table>

        <h3 class="h5 mt-4">üö™ Doca & Descarga</h3>
        <table class="table table-sm align-middle" data-ck="doca">
          <thead><tr><th style="width:52%">Item</th><th>Sim</th><th>Parcial</th><th>N√£o</th><th>Obs.</th></tr></thead>
          <tbody>
            <tr>
              <td contenteditable="true">Checklist de seguran√ßa da doca aplicado</td>
              <td><input type="radio" name="doca0" value="1"></td>
              <td><input type="radio" name="doca0" value="0.5"></td>
              <td><input type="radio" name="doca0" value="0"></td>
              <td contenteditable="true"></td>
            </tr>
            <tr>
              <td contenteditable="true">Integridade/avarias verificadas durante a descarga</td>
              <td><input type="radio" name="doca1" value="1"></td>
              <td><input type="radio" name="doca1" value="0.5"></td>
              <td><input type="radio" name="doca1" value="0"></td>
              <td contenteditable="true"></td>
            </tr>
            <tr>
              <td contenteditable="true">Fotos/registro de anomalias anexados</td>
              <td><input type="radio" name="doca2" value="1"></td>
              <td><input type="radio" name="doca2" value="0.5"></td>
              <td><input type="radio" name="doca2" value="0"></td>
              <td contenteditable="true"></td>
            </tr>
          </tbody>
          <tfoot><tr><th colspan="5">
            Conformidade se√ß√£o: <span id="p_doca">0%</span>
            <div class="meter mt-2"><span id="m_doca"></span></div>
          </th></tr></tfoot>
        </table>
      </div>

      <!-- Coluna direita -->
      <div>
        <h3 class="h5">üì¶ Confer√™ncia F√≠sica</h3>
        <table class="table table-sm align-middle" data-ck="fisica">
          <thead><tr><th style="width:52%">Item</th><th>Sim</th><th>Parcial</th><th>N√£o</th><th>Obs.</th></tr></thead>
          <tbody>
            <tr>
              <td contenteditable="true">Confer√™ncia cega por amostragem</td>
              <td><input type="radio" name="fis0" value="1"></td>
              <td><input type="radio" name="fis0" value="0.5"></td>
              <td><input type="radio" name="fis0" value="0"></td>
              <td contenteditable="true"></td>
            </tr>
            <tr>
              <td contenteditable="true">Leitura de etiquetas/seriais no recebimento</td>
              <td><input type="radio" name="fis1" value="1"></td>
              <td><input type="radio" name="fis1" value="0.5"></td>
              <td><input type="radio" name="fis1" value="0"></td>
              <td contenteditable="true"></td>
            </tr>
            <tr>
              <td contenteditable="true">Segrega√ß√£o de n√£o conformes em quarentena</td>
              <td><input type="radio" name="fis2" value="1"></td>
              <td><input type="radio" name="fis2" value="0.5"></td>
              <td><input type="radio" name="fis2" value="0"></td>
              <td contenteditable="true"></td>
            </tr>
          </tbody>
          <tfoot><tr><th colspan="5">
            Conformidade se√ß√£o: <span id="p_fisica">0%</span>
            <div class="meter mt-2"><span id="m_fisica"></span></div>
          </th></tr></tfoot>
        </table>

        <h3 class="h5 mt-4">üßæ Confer√™ncia Fiscal & Registro</h3>
        <table class="table table-sm align-middle" data-ck="fiscal">
          <thead><tr><th style="width:52%">Item</th><th>Sim</th><th>Parcial</th><th>N√£o</th><th>Obs.</th></tr></thead>
          <tbody>
            <tr>
              <td contenteditable="true">NF-e/CT-e validados (CFOP, impostos, SEFAZ)</td>
              <td><input type="radio" name="fiscl0" value="1"></td>
              <td><input type="radio" name="fiscl0" value="0.5"></td>
              <td><input type="radio" name="fiscl0" value="0"></td>
              <td contenteditable="true"></td>
            </tr>
            <tr>
              <td contenteditable="true">Entrada no ERP/WMS e etiquetas geradas</td>
              <td><input type="radio" name="fiscl1" value="1"></td>
              <td><input type="radio" name="fiscl1" value="0.5"></td>
              <td><input type="radio" name="fiscl1" value="0"></td>
              <td contenteditable="true"></td>
            </tr>
            <tr>
              <td contenteditable="true">Arquivos digitais anexados ao processo</td>
              <td><input type="radio" name="fiscl2" value="1"></td>
              <td><input type="radio" name="fiscl2" value="0.5"></td>
              <td><input type="radio" name="fiscl2" value="0"></td>
              <td contenteditable="true"></td>
            </tr>
          </tbody>
          <tfoot><tr><th colspan="5">
            Conformidade se√ß√£o: <span id="p_fiscal">0%</span>
            <div class="meter mt-2"><span id="m_fiscal"></span></div>
          </th></tr></tfoot>
        </table>
      </div>
    </div>

    <!-- Armazenagem & Seguran√ßa (full width) -->
    <h3 class="h5 mt-2">üè∑Ô∏è Armazenagem & Seguran√ßa</h3>
    <table class="table table-sm align-middle" data-ck="armazen">
      <thead><tr><th style="width:52%">Item</th><th>Sim</th><th>Parcial</th><th>N√£o</th><th>Obs.</th></tr></thead>
      <tbody>
        <tr>
          <td contenteditable="true">Put-away realizado conforme slotting ABC</td>
          <td><input type="radio" name="arm0" value="1"></td>
          <td><input type="radio" name="arm0" value="0.5"></td>
          <td><input type="radio" name="arm0" value="0"></td>
          <td contenteditable="true"></td>
        </tr>
        <tr>
          <td contenteditable="true">Condi√ß√µes adequadas (ESD, Li-ion, empilhamento)</td>
          <td><input type="radio" name="arm1" value="1"></td>
          <td><input type="radio" name="arm1" value="0.5"></td>
          <td><input type="radio" name="arm1" value="0"></td>
          <td contenteditable="true"></td>
        </tr>
        <tr>
          <td contenteditable="true">Disponibilizado no sistema sem pend√™ncias</td>
          <td><input type="radio" name="arm2" value="1"></td>
          <td><input type="radio" name="arm2" value="0.5"></td>
          <td><input type="radio" name="arm2" value="0"></td>
          <td contenteditable="true"></td>
        </tr>
      </tbody>
      <tfoot><tr><th colspan="5">
        Conformidade se√ß√£o: <span id="p_armazen">0%</span>
        <div class="meter mt-2"><span id="m_armazen"></span></div>
      </th></tr></tfoot>
    </table>

    <!-- Resultado geral -->
    <div class="tile mt-3">
      <div class="d-flex flex-wrap justify-content-between gap-2 align-items-center">
        <div>
          <h5 class="mb-1">Resultado geral</h5>
          <div class="meter" style="width:340px"><span id="m_total"></span></div>
          <div class="mt-1">Conformidade geral: <strong id="p_total">0%</strong></div>
          <div class="small-muted">Sugest√£o: metas por se√ß√£o ‚â• 95% e geral ‚â• 92%.</div>
        </div>
        <div class="d-flex gap-2">
          <button class="btn btn-accent btn-sm" onclick="exportCSV()"><i class="bi bi-filetype-csv"></i> Exportar CSV</button>
          <button class="btn btn-outline-light btn-sm" onclick="window.print()"><i class="bi bi-printer"></i> Imprimir</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Exemplos e boas pr√°ticas -->
  <section class="tile mt-3">
    <h3>üí° Boas pr√°ticas r√°pidas</h3>
    <ul class="mb-0">
      <li>Checklists no coletor RF + fotos obrigat√≥rias para NC.</li>
      <li>Padronizar nomes de arquivos (ex.: <span class="code">NF-55231_pedido-7789.pdf</span>).</li>
      <li>Auditoria surpresa 1x por semana nas docas mais cr√≠ticas.</li>
      <li>Relat√≥rio mensal por fornecedor: <strong>OTD</strong>, <strong>NC%</strong> e <strong>Dock‚ÜíStock</strong>.</li>
    </ul>
  </section>
</main>

<footer class="text-center py-3" style="background:#091d33;color:#bcd3f7">
  <small>¬© <span id="year"></span> Aula 6 ‚Äî Checklist Inbound</small>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
  document.getElementById('year').textContent = new Date().getFullYear();

  function setupChecklist(prefix){
    const wrap = document.querySelector(`table[data-ck="${prefix}"]`);
    const meter = document.getElementById(`m_${prefix}`);
    const pct   = document.getElementById(`p_${prefix}`);
    function recalc(){
      const radios = wrap.querySelectorAll('input[type="radio"]');
      const groups = new Map();
      radios.forEach(r=>{
        const g = r.name;
        if(!groups.has(g)) groups.set(g, []);
        groups.get(g).push(r);
      });
      let vals = [];
      groups.forEach(list=>{
        const checked = list.find(x=>x.checked);
        vals.push( checked ? Number(checked.value) : 0 );
      });
      const score = vals.length ? (vals.reduce((a,b)=>a+b,0)/vals.length) : 0;
      const show = Math.round(score*100);
      meter.style.width = show + '%';
      pct.textContent = show + '%';
      recalcTotal();
    }
    wrap.addEventListener('change', recalc);
    recalc();
  }

  function recalcTotal(){
    const ids = ['pre','doca','fisica','fiscal','armazen'];
    let sum=0, n=0;
    ids.forEach(id=>{
      const t = Number((document.getElementById('p_'+id).textContent||'0').replace('%',''))||0;
      sum += t; n += 1;
    });
    const avg = n? Math.round(sum/n) : 0;
    document.getElementById('m_total').style.width = avg+'%';
    document.getElementById('p_total').textContent = avg+'%';
  }

  ['pre','doca','fisica','fiscal','armazen'].forEach(setupChecklist);

  // Exportar CSV
  function exportCSV(){
    const secs = document.querySelectorAll('table[data-ck]');
    const rows = [['Se√ß√£o','Item','Resultado','Observa√ß√£o']];
    secs.forEach(tbl=>{
      const sec = tbl.getAttribute('data-ck');
      tbl.querySelectorAll('tbody tr').forEach((tr,i)=>{
        const item = (tr.cells[0].innerText||'').replace(/\s+/g,' ').trim();
        const obs  = (tr.cells[4].innerText||'').replace(/\s+/g,' ').trim();
        const radios = tr.querySelectorAll('input[type="radio"]');
        let res = 'N√£o marcado';
        radios.forEach(r=>{ if(r.checked){ res = (r.value==='1'?'Sim': (r.value==='0.5'?'Parcial':'N√£o')); } });
        rows.push([sec, item, res, obs]);
      });
    });
    const csv = rows.map(r=>r.map(v=>{
      v = String(v);
      if(v.includes('"')) v = v.replace(/"/g,'""');
      if(/[;"\n]/.test(v)) v = `"${v}"`;
      return v;
    }).join(';')).join('\n');

    const blob = new Blob([csv], {type:'text/csv;charset=utf-8;'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a'); a.href=url; a.download='checklist-inbound.csv';
    document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
  }
</script>
</body>
</html>
